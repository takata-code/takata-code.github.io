(()=>{function e(e){return String(e).replace(/[&'`"<>]/g,(e=>({"&":"&amp;","'":"&#x27;","`":"&#x60;",'"':"&quot;","<":"&lt;",">":"&gt;"}[e])))}const n=document.getElementById("webpageWrapper");let t;const o=document.getElementById("inspectorWrapper"),r=document.getElementById("inspectorResizeKnob"),c=document.getElementById("inspectorTabHeaders"),l=document.getElementById("inspectorTabContents"),s=document.getElementById("inspectorConsoleClear"),i=document.getElementById("inspectorConsoleRows"),a=document.getElementById("inspectorConsoleInput"),d=new class{#e=new Map;assert(){}clear(){i.innerHTML=""}count(e){"string"!=typeof e&&(e="default"),this.#e.has(e)||this.#e.set(e,0);const n=this.#e.get(e)+1;this.#e.set(e,n),this.log(`${e}: ${n}`)}countReset(e){"string"!=typeof e&&(e="default"),this.counter.set(e,0)}dir(e){this.log(e)}error(...n){this.#n([`<span style="color:#b81907;font-weight:bold">${e(n[0])}</span>`],{type:"error"})}log(...e){this.#n(e)}#n(e,n={}){if("error"!=n?.type){const n=this.#t(e[0]);this.#o(n)}else this.#o({label:e[0],children:[]});i.scrollTo(0,1e8)}group(){}groupEnd(){}toString(){return"[object InspectorConsole]"}#t(n){const t=[n];let o=0;return function n(r,c){if("object"!=typeof r){switch(typeof r){case"string":c.label+=`<span style="color:#944306">"${e(r)}"</span>`;break;case"number":c.label+=`<span style="color:#318a04">${r}</span>`;break;case"function":c.label+='<span style="color:#630973">function()</span>';break;case"boolean":c.label+=`<span style="color:#0841bd">${r}</span>`;break;default:c.label+=`<span style="color:#910707">${r}</span>`}return c}Array.isArray(r)?c.label+=`Array<span style="color:gray">[<span style="color:#580abf">${r.length}</span>]</span>`:c.label+=r?`<span style="color:#026951">${r[Symbol.toStringTag]||"Object"}</span>`:'<span style="color:#910707">null</span>';for(const l in r){let s;try{s=r[l]}catch{continue}const i={label:`${e(l)}<span style="color: gray">:</span> `,children:[]};if(c.children.push(i),o++>1e3)return i.label+='<span style="color: gray">... (表示数超過)</span>',c;if(s&&"object"==typeof s){if(t.includes(s)){i.label+='<span style="color: gray">(循環参照検出)</span>';continue}t.push(s)}n(s,i)}return c}(n,{label:"",children:[]})}#o(e){const n=document.createElement("div");n.className="inspector-console-row",function e(n,t){const o=document.createElement("div"),r=document.createElement("span");if(r.innerHTML=n.label,o.appendChild(r),0!=n.children.length){const t=document.createElement("span");t.className="inspector-console-toggle",t.innerText="expand_circle_right",o.appendChild(t);const r=document.createElement("div");r.style.marginLeft="20px",r.hidden=!0;for(const t of n.children)e(t,r);o.appendChild(r),t.addEventListener("click",(()=>{r.hidden=!r.hidden;const e=!r.hidden;t.innerText=e?"expand_circle_down":"expand_circle_right"}))}t.appendChild(o)}(e,n),i.appendChild(n)}};(function(){const e=new URLSearchParams(document.location.search).get("blobid");e&&(n.innerHTML=`<iframe class="webpage-frame" src="${"blob:https://takaon.net/"+e}"></iframe>`,t=n.firstChild,t.contentWindow.console=d)})(),function(){function e(e){n.style.width=window.innerWidth-e+"px",o.style.width=`${e}px`}const t=n=>{const t=n.clientX;e(window.innerWidth-t)};r.addEventListener("pointerdown",(e=>{document.addEventListener("pointermove",t),document.addEventListener("pointerup",(()=>{document.removeEventListener("pointermove",t)}))})),window.addEventListener("resize",(n=>{e(.3*window.innerWidth)})),e(.3*window.innerWidth)}(),function(){for(let e=0;e<c.children.length;e++)c.children[e].addEventListener("click",(()=>{for(const e of c.children)e.style.borderColor="#888888";for(const e of l.children)e.hidden=!0;c.children[e].style.borderColor="#009488",l.children[e].hidden=!1}));c.children[0].click(),s.addEventListener("click",(()=>{d.clear()})),a.addEventListener("keydown",(e=>{if("Enter"==e.key){const n=a.value;try{const e=t.contentWindow.eval(n);d.log(e)}catch(e){d.error(`エラー: 「${n}」(${e.message})`)}a.value=""}}))}()})();